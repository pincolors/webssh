{"ast":null,"code":"import axios from 'axios';\nimport { Message } from 'element-ui';\nfunction validateStatus(status) {\n  switch (status) {\n    case 400:\n      Message.error('请求出错');\n      break;\n    case 403:\n      Message.warning({\n        message: '拒绝访问'\n      });\n      break;\n    case 404:\n      Message.warning({\n        message: '请求错误,未找到该资源'\n      });\n      break;\n    case 500:\n      Message.warning({\n        message: '服务端错误'\n      });\n      break;\n  }\n  return status >= 200 && status < 300;\n}\nvar instance = axios.create({\n  timeout: 15000,\n  baseURL: process.env.NODE_ENV === 'production' ? '/' : '/api',\n  validateStatus\n});\n\n// 响应拦截器即异常处理\ninstance.interceptors.response.use(response => {\n  return response.data;\n}, err => {\n  if (err.response === undefined && (!err.config || !err.config.cancelToken)) {\n    Message.error('连接服务器失败');\n  }\n  return Promise.reject(err.response);\n});\nexport default instance;","map":{"version":3,"names":["axios","Message","validateStatus","status","error","warning","message","instance","create","timeout","baseURL","process","env","NODE_ENV","interceptors","response","use","data","err","undefined","config","cancelToken","Promise","reject"],"sources":["C:/Users/Adam/Desktop/wssh/webssh/frontend/src/utils/request.js"],"sourcesContent":["import axios from 'axios'\r\nimport { Message } from 'element-ui'\r\n\r\nfunction validateStatus(status) {\r\n    switch (status) {\r\n    case 400:\r\n        Message.error('请求出错')\r\n        break\r\n    case 403:\r\n        Message.warning({\r\n            message: '拒绝访问'\r\n        })\r\n        break\r\n    case 404:\r\n        Message.warning({\r\n            message: '请求错误,未找到该资源'\r\n        })\r\n        break\r\n    case 500:\r\n        Message.warning({\r\n            message: '服务端错误'\r\n        })\r\n        break\r\n    }\r\n    return status >= 200 && status < 300\r\n}\r\n\r\nvar instance = axios.create({\r\n    timeout: 15000,\r\n    baseURL: process.env.NODE_ENV === 'production' ? '/' : '/api',\r\n    validateStatus\r\n})\r\n\r\n// 响应拦截器即异常处理\r\ninstance.interceptors.response.use(\r\n    response => {\r\n        return response.data\r\n    },\r\n    err => {\r\n        if (err.response === undefined && (!err.config || !err.config.cancelToken)) {\r\n            Message.error('连接服务器失败')\r\n        }\r\n        return Promise.reject(err.response)\r\n    }\r\n)\r\n\r\nexport default instance\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,YAAY;AAEpC,SAASC,cAAcA,CAACC,MAAM,EAAE;EAC5B,QAAQA,MAAM;IACd,KAAK,GAAG;MACJF,OAAO,CAACG,KAAK,CAAC,MAAM,CAAC;MACrB;IACJ,KAAK,GAAG;MACJH,OAAO,CAACI,OAAO,CAAC;QACZC,OAAO,EAAE;MACb,CAAC,CAAC;MACF;IACJ,KAAK,GAAG;MACJL,OAAO,CAACI,OAAO,CAAC;QACZC,OAAO,EAAE;MACb,CAAC,CAAC;MACF;IACJ,KAAK,GAAG;MACJL,OAAO,CAACI,OAAO,CAAC;QACZC,OAAO,EAAE;MACb,CAAC,CAAC;MACF;EACJ;EACA,OAAOH,MAAM,IAAI,GAAG,IAAIA,MAAM,GAAG,GAAG;AACxC;AAEA,IAAII,QAAQ,GAAGP,KAAK,CAACQ,MAAM,CAAC;EACxBC,OAAO,EAAE,KAAK;EACdC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG,GAAG,GAAG,MAAM;EAC7DX;AACJ,CAAC,CAAC;;AAEF;AACAK,QAAQ,CAACO,YAAY,CAACC,QAAQ,CAACC,GAAG,CAC9BD,QAAQ,IAAI;EACR,OAAOA,QAAQ,CAACE,IAAI;AACxB,CAAC,EACDC,GAAG,IAAI;EACH,IAAIA,GAAG,CAACH,QAAQ,KAAKI,SAAS,KAAK,CAACD,GAAG,CAACE,MAAM,IAAI,CAACF,GAAG,CAACE,MAAM,CAACC,WAAW,CAAC,EAAE;IACxEpB,OAAO,CAACG,KAAK,CAAC,SAAS,CAAC;EAC5B;EACA,OAAOkB,OAAO,CAACC,MAAM,CAACL,GAAG,CAACH,QAAQ,CAAC;AACvC,CACJ,CAAC;AAED,eAAeR,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}