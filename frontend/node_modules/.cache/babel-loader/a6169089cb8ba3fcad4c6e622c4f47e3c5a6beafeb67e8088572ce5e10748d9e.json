{"ast":null,"code":"import axios from 'axios';\nimport { ElMessage, ElMessageBox } from 'element-plus';\nimport store from '@/store';\nfunction validateStatus(status) {\n  switch (status) {\n    case 400:\n      ElMessage.error('请求出错');\n      break;\n    case 403:\n      ElMessage.warning({\n        ElMessage: '拒绝访问'\n      });\n      break;\n    case 404:\n      ElMessage.warning({\n        ElMessage: '请求错误,未找到该资源'\n      });\n      break;\n    case 500:\n      ElMessage.warning({\n        ElMessage: '服务端错误'\n      });\n      break;\n  }\n  return status >= 200 && status < 300;\n}\nvar instance = axios.create({\n  timeout: 15000,\n  baseURL: process.env.NODE_ENV === 'production' ? '/' : '/api',\n  validateStatus\n});\n\n// 响应拦截器即异常处理\ninstance.interceptors.response.use(response => {\n  return response.data;\n}, err => {\n  if (err.response === undefined && (!err.config || !err.config.cancelToken)) {\n    ElMessage.error('连接服务器失败');\n  }\n  return Promise.reject(err.response);\n});\nexport default instance;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}