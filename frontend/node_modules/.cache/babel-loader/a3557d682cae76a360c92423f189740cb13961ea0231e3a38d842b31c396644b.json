{"ast":null,"code":"import \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/web.dom-exception.stack.js\";\nimport { createStore } from 'vuex'; // 1. 修正了 Import 大写问题\n\n// 2. 直接在这里定义，防止外部文件缺失导致报错\nexport default createStore({\n  state: {\n    // WebSSH 核心数据\n    sshInfo: null,\n    // 存储当前连接信息\n    sshList: null,\n    // 存储历史连接列表\n    language: 'zh' // 语言设置\n  },\n  getters: {\n    // 构造连接字符串，Terminal.vue 会用到\n    sshReq: state => {\n      const s = state.sshInfo;\n      if (!s) return '';\n      // 1. 拼接原始字符串\n      const originStr = `${encodeURIComponent(s.username)}@${encodeURIComponent(s.hostname)}:${s.port}`;\n\n      // 2. 【核心修复】转为 Base64 发送给后端\n      return window.btoa(originStr);\n    }\n  },\n  mutations: {\n    // 设置 SSH 信息（TerminalPage.vue 会调用）\n    SET_SSH(state, info) {\n      state.sshInfo = info;\n      // 顺便存 Session 防止刷新丢失\n      try {\n        sessionStorage.setItem('sshInfo', JSON.stringify(info));\n      } catch (e) {}\n    },\n    // 设置历史列表\n    SET_LIST(state, list) {\n      state.sshList = list;\n      try {\n        localStorage.setItem('sshList', list);\n      } catch (e) {}\n    },\n    // 设置语言\n    SET_LANG(state, lang) {\n      state.language = lang;\n    }\n  },\n  actions: {\n    // 暂时不需要异步操作\n  },\n  modules: {\n    // 如果有其他模块可以在这里引入\n  }\n});","map":{"version":3,"names":["createStore","state","sshInfo","sshList","language","getters","sshReq","s","originStr","encodeURIComponent","username","hostname","port","window","btoa","mutations","SET_SSH","info","sessionStorage","setItem","JSON","stringify","e","SET_LIST","list","localStorage","SET_LANG","lang","actions","modules"],"sources":["C:/Users/Adam/Desktop/wssh/webssh/frontend/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex' // 1. 修正了 Import 大写问题\r\n\r\n// 2. 直接在这里定义，防止外部文件缺失导致报错\r\nexport default createStore({\r\n  state: {\r\n    // WebSSH 核心数据\r\n    sshInfo: null,  // 存储当前连接信息\r\n    sshList: null,  // 存储历史连接列表\r\n    language: 'zh'  // 语言设置\r\n  },\r\n  getters: {\r\n    // 构造连接字符串，Terminal.vue 会用到\r\n  sshReq: state => {\r\n  const s = state.sshInfo\r\n  if (!s) return ''\r\n  // 1. 拼接原始字符串\r\n  const originStr = `${encodeURIComponent(s.username)}@${encodeURIComponent(s.hostname)}:${s.port}`\r\n  \r\n  // 2. 【核心修复】转为 Base64 发送给后端\r\n  return window.btoa(originStr)\r\n}\r\n\r\n  },\r\n  mutations: {\r\n    // 设置 SSH 信息（TerminalPage.vue 会调用）\r\n    SET_SSH(state, info) {\r\n      state.sshInfo = info\r\n      // 顺便存 Session 防止刷新丢失\r\n      try {\r\n        sessionStorage.setItem('sshInfo', JSON.stringify(info))\r\n      } catch (e) {}\r\n    },\r\n    // 设置历史列表\r\n    SET_LIST(state, list) {\r\n      state.sshList = list\r\n      try {\r\n        localStorage.setItem('sshList', list)\r\n      } catch (e) {}\r\n    },\r\n    // 设置语言\r\n    SET_LANG(state, lang) {\r\n      state.language = lang\r\n    }\r\n  },\r\n  actions: {\r\n    // 暂时不需要异步操作\r\n  },\r\n  modules: {\r\n    // 如果有其他模块可以在这里引入\r\n  }\r\n})\r\n"],"mappings":";;AAAA,SAASA,WAAW,QAAQ,MAAM,EAAC;;AAEnC;AACA,eAAeA,WAAW,CAAC;EACzBC,KAAK,EAAE;IACL;IACAC,OAAO,EAAE,IAAI;IAAG;IAChBC,OAAO,EAAE,IAAI;IAAG;IAChBC,QAAQ,EAAE,IAAI,CAAE;EAClB,CAAC;EACDC,OAAO,EAAE;IACP;IACFC,MAAM,EAAEL,KAAK,IAAI;MACjB,MAAMM,CAAC,GAAGN,KAAK,CAACC,OAAO;MACvB,IAAI,CAACK,CAAC,EAAE,OAAO,EAAE;MACjB;MACA,MAAMC,SAAS,GAAG,GAAGC,kBAAkB,CAACF,CAAC,CAACG,QAAQ,CAAC,IAAID,kBAAkB,CAACF,CAAC,CAACI,QAAQ,CAAC,IAAIJ,CAAC,CAACK,IAAI,EAAE;;MAEjG;MACA,OAAOC,MAAM,CAACC,IAAI,CAACN,SAAS,CAAC;IAC/B;EAEE,CAAC;EACDO,SAAS,EAAE;IACT;IACAC,OAAOA,CAACf,KAAK,EAAEgB,IAAI,EAAE;MACnBhB,KAAK,CAACC,OAAO,GAAGe,IAAI;MACpB;MACA,IAAI;QACFC,cAAc,CAACC,OAAO,CAAC,SAAS,EAAEC,IAAI,CAACC,SAAS,CAACJ,IAAI,CAAC,CAAC;MACzD,CAAC,CAAC,OAAOK,CAAC,EAAE,CAAC;IACf,CAAC;IACD;IACAC,QAAQA,CAACtB,KAAK,EAAEuB,IAAI,EAAE;MACpBvB,KAAK,CAACE,OAAO,GAAGqB,IAAI;MACpB,IAAI;QACFC,YAAY,CAACN,OAAO,CAAC,SAAS,EAAEK,IAAI,CAAC;MACvC,CAAC,CAAC,OAAOF,CAAC,EAAE,CAAC;IACf,CAAC;IACD;IACAI,QAAQA,CAACzB,KAAK,EAAE0B,IAAI,EAAE;MACpB1B,KAAK,CAACG,QAAQ,GAAGuB,IAAI;IACvB;EACF,CAAC;EACDC,OAAO,EAAE;IACP;EAAA,CACD;EACDC,OAAO,EAAE;IACP;EAAA;AAEJ,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}