{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"terminal-page\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Terminal = _resolveComponent(\"Terminal\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_Terminal)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_Terminal"],"sources":["C:\\Users\\Adam\\Desktop\\wssh\\webssh\\frontend\\src\\views\\TerminalPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"terminal-page\">\r\n    <Terminal />\r\n  </div>\r\n</template>\r\n<script>\r\nimport Terminal from '@/components/Terminal.vue'\r\nexport default {\r\n  components: { Terminal },\r\n  beforeCreate() {\r\n    let { hostname, port, username, password, command, privateKey, passphrase, useKey } = this.$route.query;\r\n    // 解码\r\n    if (hostname) hostname = decodeURIComponent(hostname);\r\n    if (username) username = decodeURIComponent(username);\r\n    if (password) {\r\n      try {\r\n        password = atob(password);\r\n      } catch (e) {\r\n        password = decodeURIComponent(password);\r\n      }\r\n    }\r\n    if (command) command = decodeURIComponent(command);\r\n    if (privateKey) privateKey = decodeURIComponent(privateKey);\r\n    if (passphrase) passphrase = decodeURIComponent(passphrase);\r\n\r\n    // 如果是密钥登录，从 sessionStorage 读取完整 sshInfo\r\n    if (useKey) {\r\n      const savedInfo = sessionStorage.getItem('sshInfo');\r\n      if (savedInfo) {\r\n        const info = JSON.parse(savedInfo);\r\n        hostname = info.hostname;\r\n        port = info.port;\r\n        username = info.username;\r\n        password = info.password;\r\n        command = info.command;\r\n        privateKey = info.privateKey;\r\n        passphrase = info.passphrase;\r\n      }\r\n    } else if (!hostname || !username || (!password && !privateKey)) {\r\n      // fallback 到 sessionStorage\r\n      const savedInfo = sessionStorage.getItem('sshInfo');\r\n      if (savedInfo) {\r\n        const info = JSON.parse(savedInfo);\r\n        hostname = info.hostname;\r\n        port = info.port;\r\n        username = info.username;\r\n        password = info.password;\r\n        command = info.command;\r\n        privateKey = info.privateKey;\r\n        passphrase = info.passphrase;\r\n      }\r\n    }\r\n\r\n    if (hostname && username && (password || privateKey)) {\r\n      this.$store.commit('SET_SSH', {\r\n        hostname,\r\n        port: Number(port) || 22,\r\n        username,\r\n        password,\r\n        command,\r\n        privateKey,\r\n        passphrase\r\n      });\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.terminal-page { min-height: 100vh; background: var(--bg-color); }\r\n</style> "],"mappings":";;EACOA,KAAK,EAAC;AAAe;;;uBAA1BC,mBAAA,CAEM,OAFNC,UAEM,GADJC,YAAA,CAAYC,mBAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}