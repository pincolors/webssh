{"ast":null,"code":"import axios from 'axios';\nimport { ElMessage, ElMessageBox } from 'element-plus';\nimport store from '@/store';\nfunction validateStatus(status) {\n  switch (status) {\n    case 400:\n      ElMessage.error('请求出错');\n      break;\n    case 403:\n      ElMessage.warning({\n        ElMessage: '拒绝访问'\n      });\n      break;\n    case 404:\n      ElMessage.warning({\n        ElMessage: '请求错误,未找到该资源'\n      });\n      break;\n    case 500:\n      ElMessage.warning({\n        ElMessage: '服务端错误'\n      });\n      break;\n  }\n  return status >= 200 && status < 300;\n}\nvar instance = axios.create({\n  timeout: 15000,\n  baseURL: process.env.NODE_ENV === 'production' ? '/' : '/api',\n  validateStatus\n});\n\n// 响应拦截器即异常处理\ninstance.interceptors.response.use(response => {\n  return response.data;\n}, err => {\n  if (err.response === undefined && (!err.config || !err.config.cancelToken)) {\n    ElMessage.error('连接服务器失败');\n  }\n  return Promise.reject(err.response);\n});\nexport default instance;","map":{"version":3,"names":["axios","ElMessage","ElMessageBox","store","validateStatus","status","error","warning","instance","create","timeout","baseURL","process","env","NODE_ENV","interceptors","response","use","data","err","undefined","config","cancelToken","Promise","reject"],"sources":["C:/Users/Adam/Desktop/wssh/webssh/frontend/src/utils/request.js"],"sourcesContent":["import axios from 'axios'\r\nimport {  ElMessage, ElMessageBox } from 'element-plus'\r\nimport store from '@/store'\r\nfunction validateStatus(status) {\r\n    switch (status) {\r\n    case 400:\r\n         ElMessage.error('请求出错')\r\n        break\r\n    case 403:\r\n         ElMessage.warning({\r\n             ElMessage: '拒绝访问'\r\n        })\r\n        break\r\n    case 404:\r\n         ElMessage.warning({\r\n             ElMessage: '请求错误,未找到该资源'\r\n        })\r\n        break\r\n    case 500:\r\n         ElMessage.warning({\r\n             ElMessage: '服务端错误'\r\n        })\r\n        break\r\n    }\r\n    return status >= 200 && status < 300\r\n}\r\n\r\nvar instance = axios.create({\r\n    timeout: 15000,\r\n    baseURL: process.env.NODE_ENV === 'production' ? '/' : '/api',\r\n    validateStatus\r\n})\r\n\r\n// 响应拦截器即异常处理\r\ninstance.interceptors.response.use(\r\n    response => {\r\n        return response.data\r\n    },\r\n    err => {\r\n        if (err.response === undefined && (!err.config || !err.config.cancelToken)) {\r\n             ElMessage.error('连接服务器失败')\r\n        }\r\n        return Promise.reject(err.response)\r\n    }\r\n)\r\n\r\nexport default instance\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAUC,SAAS,EAAEC,YAAY,QAAQ,cAAc;AACvD,OAAOC,KAAK,MAAM,SAAS;AAC3B,SAASC,cAAcA,CAACC,MAAM,EAAE;EAC5B,QAAQA,MAAM;IACd,KAAK,GAAG;MACHJ,SAAS,CAACK,KAAK,CAAC,MAAM,CAAC;MACxB;IACJ,KAAK,GAAG;MACHL,SAAS,CAACM,OAAO,CAAC;QACdN,SAAS,EAAE;MAChB,CAAC,CAAC;MACF;IACJ,KAAK,GAAG;MACHA,SAAS,CAACM,OAAO,CAAC;QACdN,SAAS,EAAE;MAChB,CAAC,CAAC;MACF;IACJ,KAAK,GAAG;MACHA,SAAS,CAACM,OAAO,CAAC;QACdN,SAAS,EAAE;MAChB,CAAC,CAAC;MACF;EACJ;EACA,OAAOI,MAAM,IAAI,GAAG,IAAIA,MAAM,GAAG,GAAG;AACxC;AAEA,IAAIG,QAAQ,GAAGR,KAAK,CAACS,MAAM,CAAC;EACxBC,OAAO,EAAE,KAAK;EACdC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG,GAAG,GAAG,MAAM;EAC7DV;AACJ,CAAC,CAAC;;AAEF;AACAI,QAAQ,CAACO,YAAY,CAACC,QAAQ,CAACC,GAAG,CAC9BD,QAAQ,IAAI;EACR,OAAOA,QAAQ,CAACE,IAAI;AACxB,CAAC,EACDC,GAAG,IAAI;EACH,IAAIA,GAAG,CAACH,QAAQ,KAAKI,SAAS,KAAK,CAACD,GAAG,CAACE,MAAM,IAAI,CAACF,GAAG,CAACE,MAAM,CAACC,WAAW,CAAC,EAAE;IACvErB,SAAS,CAACK,KAAK,CAAC,SAAS,CAAC;EAC/B;EACA,OAAOiB,OAAO,CAACC,MAAM,CAACL,GAAG,CAACH,QAAQ,CAAC;AACvC,CACJ,CAAC;AAED,eAAeR,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}